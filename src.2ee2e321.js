parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"clu1":[function(require,module,exports) {

},{"./../img/desktop-1x.jpg":[["desktop-1x.14ecfa5a.jpg","LW0F"],"LW0F"],"./../img/hero2/hero2-desk-x1.jpg":[["hero2-desk-x1.5d147483.jpg","F6xJ"],"F6xJ"],"./../img/hero2/hero2-desk-x2.jpg":[["hero2-desk-x2.424dee0c.jpg","SAus"],"SAus"],"./../img/hero2/hero2-tab-x1.jpg":[["hero2-tab-x1.56219ca3.jpg","Bw7G"],"Bw7G"],"./../img/hero2/hero2-tab-x2.jpg":[["hero2-tab-x2.f39f249d.jpg","OkP8"],"OkP8"]}],"VyiV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={btnFilm:document.querySelector(".btn-hero1"),inputFilm:document.querySelector("#hero1-inputr"),ulGallery:document.querySelector(".js-gallery"),modalInfo:document.querySelector(".js-modal-info"),backdrop:document.querySelector(".backdrop"),closeModalBtn:document.querySelector('[data-action="close"]'),noSearchName:document.querySelector(".js-hero1-no-search-name")};exports.default=e;
},{}],"EtN4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){return null}},t=e=>{try{return JSON.parse(localStorage.getItem(e))}catch(t){return null}},r=e=>{try{return localStorage.removeItem(e)}catch(t){return null}},a=(r,a)=>{let l=t(r)||[];l=[...l,a],e(r,l)},l=(r,a)=>{let l=t(r);l=l.filter(e=>e.id!==a),e(r,l)};var o={get:t,save:e,remove:r,saveArrayItemToStorage:a,deleteArrayItemFromStorage:l};exports.default=o;
},{}],"wghu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.API_KEY=exports.WEB_LOCAL_QUEUE=exports.WEB_LOCAL_WATCHED=exports.FILE_SIZE=exports.BASE_URL_IMG=exports.BASE_URL=void 0;const t="https://api.themoviedb.org/3/movie";exports.BASE_URL=t;const e="https://image.tmdb.org/t/p/";exports.BASE_URL_IMG=e;const o="w500";exports.FILE_SIZE="w500";const s="watched-list-movie";exports.WEB_LOCAL_WATCHED=s;const E="queue-list-movie";exports.WEB_LOCAL_QUEUE=E;const _="7a08eb81e1904340c78ad5cf16c16a84";exports.API_KEY=_;
},{}],"TBLD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMovie=t;var e=require("./constants.js");function t(t){const r=`${e.BASE_URL}/${t}?api_key=${e.API_KEY}`;return fetch(r).then(e=>404===e.status?Promise.reject(new Error("The resource you requested could not be found.")):e.json())}
},{"./constants.js":"wghu"}],"DnHo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.preparationGenres=exports.findItemById=void 0;var e=o(require("./refs.js")),t=require("./servises/constants.js"),r=require("./servises/api.js"),n=require("./render-markup.js"),a=o(require("./servises/localStorage.js"));function o(e){return e&&e.__esModule?e:{default:e}}function d(e){const{original_title:r,genres:n,vote_average:a,release_date:o,poster_path:d,id:s}=e;return{id:s,title:r,poster:`${t.BASE_URL_IMG+t.FILE_SIZE+d}`,genres:`${m(n)}`,average:a,releaseDate:new Date(o).getFullYear()}}function s(t){e.default.modalInfo.innerHTML=(0,n.createMarkupInfoModal)(t)}function i(e,r){if("BUTTON"!==e.target.tagName)return!1;const n=e.target,a=d(r);"watched"===n.dataset.add&&c(t.WEB_LOCAL_WATCHED,n,a,a.id),"queue"===n.dataset.add&&c(t.WEB_LOCAL_QUEUE,n,a,a.id)}function l(t){if(t.preventDefault(),t.target===t.currentTarget)return!1;g();const n=t.target.closest("li").dataset.id;(0,r.getMovie)(n).then(t=>{s(t),e.default.modalInfo.addEventListener("click",e=>i(e,t))}).catch(console.log)}console.log("ðŸš€ ~ refs",e.default),e.default.ulGallery.addEventListener("click",l);const u=(e,t)=>e.find(e=>e.id===t);function c(e,t,r,n){let o=a.default.get(e)||[];if(o.length>=1&&u(o,n))return a.default.deleteArrayItemFromStorage(e,n),void f(t,e,!0);a.default.saveArrayItemToStorage(e,r),f(t,e,!1)}function f(e,r,n){r===t.WEB_LOCAL_WATCHED&&(e.textContent=n?"add to Watched":"remove to Watched"),r===t.WEB_LOCAL_QUEUE&&(e.textContent=n?"add to queue":"remove to queue")}function v(e){e.currentTarget===e.target&&p()}function g(){window.addEventListener("keydown",E),document.body.classList.add("show-modal","no-scroll")}function p(){window.removeEventListener("keydown",E),document.body.classList.remove("show-modal","no-scroll")}function E(e){"Escape"===e.code&&p()}exports.findItemById=u,e.default.closeModalBtn.addEventListener("click",p),e.default.backdrop.addEventListener("click",v);const m=e=>e.map(({name:e})=>e);exports.preparationGenres=m;
},{"./refs.js":"VyiV","./servises/constants.js":"wghu","./servises/api.js":"TBLD","./render-markup.js":"gNZN","./servises/localStorage.js":"EtN4"}],"gNZN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMarkupInfoModal=r,exports.createMarkupLs=exports.createMarkup=void 0;var t=n(require("./servises/localStorage.js")),e=require("./servises/constants.js"),a=require("./modal-card.js");function n(t){return t&&t.__esModule?t:{default:t}}const s=n=>{const s=t.default.get(e.WEB_LOCAL_WATCHED)||[];return(0,a.findItemById)(s,n)?"remove to watched":"add to watched"},l=n=>{const s=t.default.get(e.WEB_LOCAL_QUEUE)||[];return(0,a.findItemById)(s,n)?"remove to queue":"add to queue"};function r({id:t,vote_average:n,vote_count:r,popularity:o,original_title:i,title:_,genres:d,overview:c,poster_path:p}){return`<div class="wrapper-poster">\n        <img class="info__img" src="${e.BASE_URL_IMG+e.FILE_SIZE+p}" alt="${_}" />\n      </div>\n      <div class="wrapper-info">\n        <h3 class="info__title">${i}</h3>\n        <table class="table">\n          <tbody class="table__body">\n            <tr class="table__row">\n              <td class="table__title">Vote / Votes</td>\n              <td class="table__text"><span>${n}</span>/<span>${r}</span></td>\n            </tr>\n            <tr class="table__row">\n              <td class="table__title">Popularity</td>\n              <td class="table__text">${o.toFixed(1)}</td>\n            </tr>\n            <tr class="table__row">\n              <td class="table__title">Original Title</td>\n              <td class="table__text">${i}</td>\n            </tr>\n            <tr class="table__row">\n              <td class="table__title">Genre</td>\n              <td class="table__text">${(0,a.preparationGenres)(d).join()}</td>\n            </tr>\n          </tbody>\n        </table>\n        <p class="info__title-text">About</p>\n        <p class="info__text">${c}</p>\n        <button class="info__btn--watched" type="button" data-add="watched">${s(t)}</button>\n        <button class="info__btn--queue" type="button" data-add="queue"> ${l(t)}</button>\n      </div>`}const o=t=>(console.log(t),t.map(({poster_path:t,original_title:e,genre_ids:a,release_date:n,id:s})=>`\n<li data-id="${s}" class="gallery__item">\n\n<img src="https://image.tmdb.org/t/p/w500${t}" alt="">\n\n<div class="gallery__info">\n<p class="gallery__info-name">${e}</p>\n<p class="gallery__information">${a}|${n}</p>\n</div>\n</li>\n</ul>`).join(""));exports.createMarkup=o;const i=t=>t.map(({poster_path:t,original_title:e,genre_ids:a,release_date:n,id:s,vote_count:l})=>`\n   <li data-id="${s}" class="gallery__item">\n<img src="https://image.tmdb.org/t/p/w500${t}" alt="">\n<div class="gallery__info">\n<p class="gallery__info-name">${e}</p>\n<p class="gallery__information">${a}|${n}<span class="gallery__rating">${l}</span></p>\n</div>\n</li> `).join("");exports.createMarkupLs=i;
},{"./servises/localStorage.js":"EtN4","./servises/constants.js":"wghu","./modal-card.js":"DnHo"}],"vqRV":[function(require,module,exports) {
"use strict";var e=t(require("./refs")),r=require("./render-markup");function t(e){return e&&e.__esModule?e:{default:e}}const o="https://api.themoviedb.org/3",n="1f37c9d1204318c8a24c8b0a5ae713a0",a="f9b3a8f6c2c6ac6ea45f1e88181f9357",c=e=>fetch(`${o}/search/movie?api_key=${n}&query=${e}&id&genres&backdrop_path&original_title&homepage&release_date&vote_average&vote_count&overview&popularity`).then(e=>e.ok?e.json():Promise.reject(new Error(error))),s=()=>fetch(`${o}/trending/movie/week?api_key=${n}`).then(e=>e.ok?e.json():Promise.reject(new Error(error))).then(l).catch(e=>d(e)),l=t=>{const o=(0,r.createMarkup)(t.results);e.default.ulGallery.innerHTML=o};s();const i=()=>{e.default.noSearchName.innerHTML="",u()},u=()=>{const r=e.default.inputFilm.value.trim();c(r).then(r=>{if(console.log(r),r.results.length)l(r);else{console.log("BOOM!!!!");const r="Search result not successful. Enter the correct movie name and ";e.default.noSearchName.innerHTML=r,console.log("Search result not successful. Enter the correct movie name and ")}}).catch(e=>{d(e)})},h=t=>{const o=(0,r.createMarkupLs)(t.results);console.log(o),e.default.ulGallery.innerHTML=o},d=e=>{console.log(e.massege)};e.default.btnFilm.addEventListener("click",i);
},{"./refs":"VyiV","./render-markup":"gNZN"}],"O9Th":[function(require,module,exports) {

},{}],"Irho":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMovieById=void 0;var e=require("./servises/constants");const o=()=>fetch(`${e.BASE_URL}//genre/movie/list?api_key=${e.API_KEY}&language=en-US`).then(e=>e.ok?e.json():Promise.reject(new Error("Not found")));o().then(({genres:e})=>{localStorage.setItem("movies",JSON.stringify(e))}).catch(e=>console.log(e.message));const t=e=>{try{const t=JSON.parse(localStorage.getItem("movies")).find(o=>o.id===e);return t?t.name:""}catch(o){console.log(o.message)}};exports.getMovieById=t;
},{"./servises/constants":"wghu"}],"Focm":[function(require,module,exports) {
"use strict";require("./sass/main.scss"),require("./js/api-services"),require("./js/modal-card"),require("./js/modal-team"),require("./js/render-markup"),require("./js/movieGenres"),require("./js/data-team");
},{"./sass/main.scss":"clu1","./js/api-services":"vqRV","./js/modal-card":"DnHo","./js/modal-team":"O9Th","./js/render-markup":"gNZN","./js/movieGenres":"Irho","./js/data-team":"O9Th"}]},{},["Focm"], null)
//# sourceMappingURL=/cinema-library-11-21/src.2ee2e321.js.map