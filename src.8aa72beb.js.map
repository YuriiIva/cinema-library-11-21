{"version":3,"sources":["js/refs.js","js/servises/localStorage.js","js/servises/constants.js","js/movieGenres.js","js/servises/api.js","js/modal-card.js","js/render-markup.js","js/api-services.js","js/switch-page.js","js/switch-list.js","index.js"],"names":["btnFilm","document","querySelector","inputFilm","ulGallery","ulLibrary","modalInfo","backdrop","closeModalBtn","homeNav","libNav","heroHome","heroLib","watchedBtn","queueBtn","save","key","value","localStorage","setItem","JSON","stringify","error","get","parse","getItem","remove","removeItem","saveArrayItemToStorage","item","storageData","deleteArrayItemFromStorage","id","filter","data","BASE_URL","BASE_URL_SHORT","BASE_URL_IMG","FILE_SIZE","WEB_LOCAL_WATCHED","WEB_LOCAL_QUEUE","API_KEY","getMovieGenres","fetch","then","res","ok","json","Promise","reject","Error","genres","catch","err","console","log","message","getMovieById","movies","movie","find","name","e","getMovie","url","response","status","createObj","original_title","vote_average","release_date","poster_path","title","poster","preparationGenres","average","releaseDate","Date","getFullYear","renderMarkupInfoModal","innerHTML","onClickWorkWithData","target","tagName","btn","objData","dataset","add","workWithLocalStor","onShowModalWithInfoMovie","preventDefault","currentTarget","isModalOpen","closest","addEventListener","elem","refs","findItemById","array","obj","storage","length","chechedText","boolean","textContent","onBackdropClick","event","onModalClose","window","onEscKeyDown","body","classList","removeEventListener","code","map","checkInfoLsW","checkInfoLsQ","createMarkupInfoModal","vote_count","popularity","overview","toFixed","join","createMarkup","genre_ids","genresId","slice","date","createMarkupLs","dataLs","API_KEY1","API_KEY2","searchFilm","nameFilm","createFetch","renderFotos","handError","markup","results","onSearchFilm","noSearchName","getFilm","inputName","trim","nameNoSearch","renderFotosLs","massege","switchToLibrary","switchToHome","switchToQueue","switchToWatched"],"mappings":"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","file":"src.8aa72beb.js","sourceRoot":"../src","sourcesContent":["export default {\n  btnFilm: document.querySelector(\".btn-hero1\"),\n  inputFilm: document.querySelector(\"#hero1-inputr\"),\n  ulGallery: document.querySelector(\".js-gallery\"),\n  ulLibrary: document.querySelector(\".js-library\"),\n  modalInfo: document.querySelector(\".js-modal-info\"),\n  backdrop: document.querySelector(\".backdrop\"),\n  closeModalBtn: document.querySelector('[data-action=\"close\"]'),\n  homeNav: document.querySelector(\"[data-home-page]\"),\n  libNav: document.querySelector(\"[data-lib-page]\"),\n  heroHome: document.querySelector(\".hero1\"),\n  heroLib: document.querySelector(\".hero\"),\n  watchedBtn: document.querySelector(\"[data-watched]\"),\n  queueBtn: document.querySelector(\"[data-queue]\"),\n};\n","const save = (key, value) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (error) {\n    return null;\n  }\n};\n\nconst get = key => {\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (error) {\n    return null;\n  }\n};\n\nconst remove = key => {\n  try {\n    return localStorage.removeItem(key);\n  } catch (error) {\n    return null;\n  }\n};\n\nconst saveArrayItemToStorage = (key, item) => {\n  let storageData = get(key) || [];\n  storageData = [...storageData, item];\n  save(key, storageData);\n};\n\nconst deleteArrayItemFromStorage = (key, id) => {\n  let storageData = get(key);\n  storageData = storageData.filter(data => data.id !== id);\n  save(key, storageData);\n};\n\nexport default { get, save, remove, saveArrayItemToStorage, deleteArrayItemFromStorage };\n","const BASE_URL = 'https://api.themoviedb.org/3/movie';\nconst BASE_URL_SHORT = 'https://api.themoviedb.org/3';\nconst BASE_URL_IMG = 'https://image.tmdb.org/t/p/';\nconst FILE_SIZE = 'w500';\nconst WEB_LOCAL_WATCHED = 'watched-list-movie';\nconst WEB_LOCAL_QUEUE = 'queue-list-movie';\nconst API_KEY = '7a08eb81e1904340c78ad5cf16c16a84';\n\nexport {\n  BASE_URL,\n  BASE_URL_IMG,\n  FILE_SIZE,\n  WEB_LOCAL_WATCHED,\n  WEB_LOCAL_QUEUE,\n  API_KEY,\n  BASE_URL_SHORT,\n};\n","import { BASE_URL, API_KEY, BASE_URL_SHORT } from './servises/constants';\n\nconst getMovieGenres = () => {\n  return fetch(`${BASE_URL_SHORT}/genre/movie/list?api_key=${API_KEY}&language=en-US`).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(new Error('Not found'));\n  });\n};\n\ngetMovieGenres()\n  .then(({ genres }) => {\n    localStorage.setItem('movies', JSON.stringify(genres));\n  })\n  .catch(err => console.log(err.message));\n\nconst getMovieById = id => {\n  try {\n    const movies = JSON.parse(localStorage.getItem('movies'));\n\n    const movie = movies.find(movie => movie.id === id);\n    return movie ? movie.name : '';\n  } catch (e) {\n    console.log(e.message);\n  }\n};\n\nexport { getMovieById };\n","import { BASE_URL, API_KEY } from './constants.js';\n\nfunction getMovie(id) {\n  const url = `${BASE_URL}/${id}?api_key=${API_KEY}`;\n  return fetch(url).then(response =>\n    response.status === 404\n      ? Promise.reject(new Error('The resource you requested could not be found.'))\n      : response.json(),\n  );\n}\n\nexport { getMovie };\n","import refs from './refs.js';\nconsole.log('🚀 ~ refs', refs);\nimport {\n  BASE_URL_IMG,\n  FILE_SIZE,\n  WEB_LOCAL_WATCHED,\n  WEB_LOCAL_QUEUE,\n} from './servises/constants.js';\nimport { getMovie } from './servises/api.js';\nimport { createMarkupInfoModal } from './render-markup.js';\nimport storage from './servises/localStorage.js';\n\nfunction createObj(data) {\n  const { original_title, genres, vote_average, release_date, poster_path, id } = data;\n\n  return {\n    id,\n    title: original_title,\n    poster: `${BASE_URL_IMG + FILE_SIZE + poster_path}`,\n    genres: `${preparationGenres(genres)}`,\n    average: vote_average,\n    releaseDate: new Date(release_date).getFullYear(),\n  };\n}\n\nfunction renderMarkupInfoModal(data) {\n  refs.modalInfo.innerHTML = createMarkupInfoModal(data);\n}\n\nfunction onClickWorkWithData(e, data) {\n  if (e.target.tagName !== 'BUTTON') return false;\n\n  const btn = e.target;\n\n  const objData = createObj(data);\n\n  if (btn.dataset.add === 'watched') {\n    workWithLocalStor(WEB_LOCAL_WATCHED, btn, objData, objData.id);\n  }\n\n  if (btn.dataset.add === 'queue') {\n    workWithLocalStor(WEB_LOCAL_QUEUE, btn, objData, objData.id);\n  }\n}\n\nfunction onShowModalWithInfoMovie(e) {\n  e.preventDefault();\n  if (e.target === e.currentTarget) return false;\n\n  isModalOpen();\n\n  const id = e.target.closest('li').dataset.id;\n\n  getMovie(id)\n    .then(movie => {\n      renderMarkupInfoModal(movie);\n      refs.modalInfo.addEventListener('click', elem => onClickWorkWithData(elem, movie));\n    })\n    .catch(console.log);\n}\n\nrefs.ulGallery.addEventListener('click', onShowModalWithInfoMovie);\n\nconst findItemById = (array, id) => array.find(item => item.id === id);\n\nfunction workWithLocalStor(key, btn, obj, id) {\n  let data = storage.get(key) || [];\n\n  if (data.length >= 1 && findItemById(data, id)) {\n    storage.deleteArrayItemFromStorage(key, id);\n    chechedText(btn, key, true);\n    return;\n  }\n\n  storage.saveArrayItemToStorage(key, obj);\n  chechedText(btn, key, false);\n}\n\nfunction chechedText(btn, key, boolean) {\n  if (key === WEB_LOCAL_WATCHED) {\n    btn.textContent = boolean ? 'add to Watched' : 'remove to Watched';\n  }\n  if (key === WEB_LOCAL_QUEUE) {\n    btn.textContent = boolean ? 'add to queue' : 'remove to queue';\n  }\n}\n\nrefs.closeModalBtn.addEventListener('click', onModalClose);\nrefs.backdrop.addEventListener('click', onBackdropClick);\n\nfunction onBackdropClick(event) {\n  if (event.currentTarget === event.target) {\n    onModalClose();\n  }\n}\n\nfunction isModalOpen() {\n  window.addEventListener('keydown', onEscKeyDown);\n  document.body.classList.add('show-modal', 'no-scroll');\n}\n\nfunction onModalClose() {\n  window.removeEventListener('keydown', onEscKeyDown);\n  document.body.classList.remove('show-modal', 'no-scroll');\n}\n\nfunction onEscKeyDown(e) {\n  if (e.code === 'Escape') {\n    onModalClose();\n  }\n}\nconst preparationGenres = array => array.map(({ name }) => name);\nexport { findItemById, preparationGenres };\n","import storage from './servises/localStorage.js';\nimport { getMovieById } from './movieGenres';\n\nimport {\n  WEB_LOCAL_WATCHED,\n  WEB_LOCAL_QUEUE,\n  BASE_URL_IMG,\n  FILE_SIZE,\n} from './servises/constants.js';\n\nimport { findItemById, preparationGenres } from './modal-card.js';\n\nconst checkInfoLsW = id => {\n  const data = storage.get(WEB_LOCAL_WATCHED) || [];\n  return findItemById(data, id) ? 'remove to watched' : 'add to watched';\n};\n\nconst checkInfoLsQ = id => {\n  const data = storage.get(WEB_LOCAL_QUEUE) || [];\n  return findItemById(data, id) ? 'remove to queue' : 'add to queue';\n};\n\nfunction createMarkupInfoModal({\n  id,\n  vote_average,\n  vote_count,\n  popularity,\n  original_title,\n  title,\n  genres,\n  overview,\n  poster_path,\n}) {\n  return `<div class=\"wrapper-poster\">\n        <img class=\"info__img\" src=\"${BASE_URL_IMG + FILE_SIZE + poster_path}\" alt=\"${title}\" />\n      </div>\n      <div class=\"wrapper-info\">\n        <h3 class=\"info__title\">${original_title}</h3>\n        <table class=\"table\">\n          <tbody class=\"table__body\">\n            <tr class=\"table__row\">\n              <td class=\"table__title\">Vote / Votes</td>\n              <td class=\"table__text\"><span>${vote_average}</span>/<span>${vote_count}</span></td>\n            </tr>\n            <tr class=\"table__row\">\n              <td class=\"table__title\">Popularity</td>\n              <td class=\"table__text\">${popularity.toFixed(1)}</td>\n            </tr>\n            <tr class=\"table__row\">\n              <td class=\"table__title\">Original Title</td>\n              <td class=\"table__text\">${original_title}</td>\n            </tr>\n            <tr class=\"table__row\">\n              <td class=\"table__title\">Genre</td>\n              <td class=\"table__text\">${preparationGenres(genres).join()}</td>\n            </tr>\n          </tbody>\n        </table>\n        <p class=\"info__title-text\">About</p>\n        <p class=\"info__text\">${overview}</p>\n        <button class=\"info__btn--watched\" type=\"button\" data-add=\"watched\">${checkInfoLsW(\n          id,\n        )}</button>\n        <button class=\"info__btn--queue\" type=\"button\" data-add=\"queue\"> ${checkInfoLsQ(\n          id,\n        )}</button>\n      </div>`;\n}\n\nconst createMarkup = data => {\n  console.log(data);\n  return data\n    .map(({ poster_path, original_title, genre_ids, release_date, id }) => {\n      const genresId = genre_ids.length <= 2 ? genre_ids : genre_ids.slice(0, 2);\n      const genres = genresId.map(id => getMovieById(id)).join(', ');\n      const date = new Date(release_date).getFullYear();\n      const url = poster_path ? `${BASE_URL_IMG + FILE_SIZE}${poster_path}` : '';\n      return `\n<li data-id=\"${id}\" class=\"gallery__item\">\n\n<img src=\"${url}\" alt=\"\">\n\n<div class=\"gallery__info\">\n<p class=\"gallery__info-name\">${original_title}</p>\n<p class=\"gallery__information\">${genres}|${date}</p>\n</div>\n</li>\n</ul>`;\n    })\n    .join('');\n};\n\nconst createMarkupLs = dataLs => {\n  return dataLs\n    .map(\n      ({ poster_path, original_title, genre_ids, release_date, id, vote_count }) => `\n   <li data-id=\"${id}\" class=\"gallery__item\">\n<img src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"\">\n<div class=\"gallery__info\">\n<p class=\"gallery__info-name\">${original_title}</p>\n<p class=\"gallery__information\">${genre_ids}|${release_date}<span class=\"gallery__rating\">${vote_count}</span></p>\n</div>\n</li> `,\n    )\n    .join('');\n};\n\nexport { createMarkup, createMarkupLs, createMarkupInfoModal };\n","import refs from './refs';\n\nimport { createMarkup, createMarkupLs } from './render-markup';\n\n// https://api.themoviedb.org/3/movie/550?api_key=1f37c9d1204318c8a24c8b0a5ae713a0\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY1 = '1f37c9d1204318c8a24c8b0a5ae713a0';\nconst API_KEY2 = 'f9b3a8f6c2c6ac6ea45f1e88181f9357';\n\nconst searchFilm = nameFilm => {\n  return fetch(\n    `${BASE_URL}/search/movie?api_key=${API_KEY1}&query=${nameFilm}&id&genres&backdrop_path&original_title&homepage&release_date&vote_average&vote_count&overview&popularity`,\n  ).then(response => {\n    if (!response.ok) {\n      return Promise.reject(new Error(error));\n    }\n    return response.json();\n  });\n};\n\nconst createFetch = () => {\n  return fetch(`${BASE_URL}/trending/movie/week?api_key=${API_KEY1}`)\n    .then(response => {\n      if (!response.ok) {\n        return Promise.reject(new Error(error));\n      }\n      return response.json();\n    })\n    .then(renderFotos)\n\n    .catch(error => handError(error));\n};\n\nconst renderFotos = data => {\n  const markup = createMarkup(data.results);\n  // console.log(markup);\n  refs.ulGallery.innerHTML = markup;\n};\n\ncreateFetch();\n\nconst onSearchFilm = () => {\n  refs.noSearchName.innerHTML = '';\n  getFilm();\n};\n\nconst getFilm = () => {\n  const inputName = refs.inputFilm.value.trim();\n\n  searchFilm(inputName)\n    .then(data => {\n      console.log(data);\n      if (!data.results.length) {\n        console.log('BOOM!!!!');\n        const nameNoSearch = 'Search result not successful. Enter the correct movie name and ';\n        refs.noSearchName.innerHTML = nameNoSearch;\n        console.log('Search result not successful. Enter the correct movie name and ');\n      } else {\n        renderFotos(data);\n      }\n    })\n\n    .catch(error => {\n      handError(error);\n    });\n};\n\nconst renderFotosLs = dataLs => {\n  const markup = createMarkupLs(dataLs.results);\n  console.log(markup);\n  refs.ulGallery.innerHTML = markup;\n};\n\nconst handError = error => {\n  console.log(error.massege);\n};\n\n// const resetSearch = () => {\n//   refs.noSearchName.innerHTML = '';\n//   refs.inputFilm.value = '';\n// };\n\nrefs.btnFilm.addEventListener('click', onSearchFilm);\n","import refs from \"./refs.js\";\n\nfunction switchToLibrary(e) {\n  e.preventDefault();\n  refs.homeNav.classList.remove(\"header__nav-active\");\n  refs.libNav.classList.add(\"header__nav-active\");\n\n  refs.heroHome.classList.add(\"vusually-hidden\");\n  refs.heroLib.classList.remove(\"vusually-hidden\");\n\n  refs.ulGallery.classList.add(\"vusually-hidden\");\n  refs.ulLibrary.classList.remove(\"vusually-hidden\");\n}\n\nfunction switchToHome(e) {\n  e.preventDefault();\n  refs.libNav.classList.remove(\"header__nav-active\");\n  refs.homeNav.classList.add(\"header__nav-active\");\n\n  refs.heroLib.classList.add(\"vusually-hidden\");\n  refs.heroHome.classList.remove(\"vusually-hidden\");\n\n  refs.ulGallery.classList.remove(\"vusually-hidden\");\n  refs.ulLibrary.classList.add(\"vusually-hidden\");\n}\n\nrefs.libNav.addEventListener(\"click\", switchToLibrary);\nrefs.homeNav.addEventListener(\"click\", switchToHome);\n","import refs from \"./refs.js\";\n\nfunction switchToQueue() {\n  refs.watchedBtn.classList.remove(\"hero__btn-active\");\n  refs.queueBtn.classList.add(\"hero__btn-active\");\n}\n\nfunction switchToWatched() {\n  refs.queueBtn.classList.remove(\"hero__btn-active\");\n  refs.watchedBtn.classList.add(\"hero__btn-active\");\n}\n\nrefs.queueBtn.addEventListener(\"click\", switchToQueue);\nrefs.watchedBtn.addEventListener(\"click\", switchToWatched);\n","import \"./sass/main.scss\";\n\nimport \"./js/api-services\";\nimport \"./js/modal-card\";\nimport \"./js/modal-team\";\nimport \"./js/render-markup\";\nimport \"./js/movieGenres\";\n\n// Switch from home to lib and opposite\nimport \"./js/switch-page\";\n// SWitch watched/queue list\nimport \"./js/switch-list\";\n"]}